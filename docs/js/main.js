console.log("pages ready");const p=document.querySelector(".js-page"),E=document.createElement("h1"),u=document.createElement("form"),d=document.createElement("input"),m=document.createElement("button"),k=document.createElement("button"),h=document.createElement("section"),C=document.createElement("ul"),f=document.createElement("ul"),v=document.createElement("p"),o=document.createElement("section"),L=document.createElement("div"),g=document.createElement("p"),_=document.createElement("p"),b=document.createElement("p");E.setAttribute("class","main__page--title");E.textContent="Las margaritas de Lucía";p.appendChild(E);u.setAttribute("class","main__page--form");p.appendChild(u);d.setAttribute("type","text");d.setAttribute("id","search");d.setAttribute("placeholder","Introduce el nombre del cocktail");d.setAttribute("name","search");d.setAttribute("class","js-search-input");d.classList.add("main__page--search");u.appendChild(d);m.setAttribute("id","searchBtn");m.setAttribute("class","js-search-btn");m.classList.add("search__button");m.textContent="Buscar";u.appendChild(m);k.setAttribute("id","resetBtn");k.setAttribute("class","js-reset-btn");k.classList.add("reset__button");k.textContent="Reset";u.appendChild(k);v.setAttribute("class","js-search-warning");v.classList.add("search__warning");v.classList.add("hidden");p.appendChild(v);L.setAttribute("class","order__sections");p.appendChild(L);o.setAttribute("class","js-section-fav");o.classList.add("favdrinks__section");L.appendChild(o);b.setAttribute("class","drinks__title");b.classList.add("js-show-fav-drinks");b.textContent="Tus favoritos";o.appendChild(b);g.setAttribute("class","delete__all");g.classList.add("js-delete-all-favs");g.classList.add("hidden");o.appendChild(g);C.setAttribute("class","js-fav-drinks-list");C.classList.add("favdrinks__section--list");o.appendChild(C);h.setAttribute("class","js-section");h.classList.add("drinks__section");L.appendChild(h);_.setAttribute("class","drinks__title");_.classList.add("js-show-drinks");_.textContent="Nuestro jardín";h.appendChild(_);f.setAttribute("class","js-drinks-list");f.classList.add("drinks__section--list");h.appendChild(f);console.log("functions ready");const q=document.querySelector(".js-search-btn"),S=document.querySelector(".js-search-input"),x=document.querySelector(".js-reset-btn"),D=document.querySelector(".js-drinks-list"),j=document.querySelector(".js-search-warning"),A=document.querySelector(".js-fav-drinks-list");document.querySelectorAll(".js-drink");const c=document.querySelector(".js-delete-all-favs");c.innerHTML='<i class="fa-solid fa-circle-xmark"></i>Borrar todos mis favoritos';let a=[],i=[];const F=t=>{const e=t.currentTarget.parentElement.id,s=i.findIndex(n=>n.idDrink===e);D.querySelectorAll(".js-drinks-list li").forEach(n=>{n.id===e&&n.classList.remove("fav-drink")}),i.splice(s,1),I(),localStorage.setItem("favUserDrinks",JSON.stringify(i)),i.length===0&&c.classList.add("hidden")},I=()=>{c.classList.remove("hidden"),A.innerHTML="";for(const e of i){const s=e.strDrink,r=e.strDrinkThumb,n=e.idDrink;A.innerHTML+=`
            <li class="drinks__section--item js-drink" id="${n}">
                <span class="drink__delete js-delete"><i class="fas fa-times"></i></span>
                <img class="drink__img" src="${r}" alt="${s}">
                <h3 class="drink__name">${s}</h3>
            </li>
        `}document.querySelectorAll(".js-delete").forEach(e=>{e.addEventListener("click",F)}),i.length===0&&c.classList.add("hidden")},B=t=>{console.log(t.currentTarget.id);const e=t.currentTarget.id,s=a.find(n=>n.idDrink===e),r=i.findIndex(n=>n.idDrink===e);if(r!==-1){const n=document.querySelector(".js-delete");n.addEventListener("click",n),i.splice(r,1),t.currentTarget.classList.remove("fav-drink")}else s&&s.idDrink&&(t.currentTarget.classList.add("fav-drink"),i.push(s));I(),localStorage.setItem("favUserDrinks",JSON.stringify(i)),i.length===0&&c.classList.add("hidden")},y=t=>{D.innerHTML="";for(const e of t){const s=e.strDrink;let r=e.strDrinkThumb;r||(r="http://via.placeholder.com/100x100");const n=e.idDrink,l=document.createElement("li");l.classList.add("drinks__section--item"),l.id=n,i.some(w=>w.idDrink===n)&&l.classList.add("fav-drink"),l.innerHTML=`
            <img class="drink__img" src="${r}" alt="${s}">
            <h3 class="drink__name">${s}</h3>
        `,l.addEventListener("click",B),f.appendChild(l)}},H=()=>{const t=S.value;fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${t}`).then(e=>e.json()).then(e=>{a=e.drinks,console.log(a),y(a),localStorage.setItem("drinks",JSON.stringify(a))})},M=t=>{t.preventDefault();const e=S.value;if(e==="")j.classList.remove("hidden"),j.innerHTML="Ups, parece que no has elegido un cocktail.<br>Introduce en el buscador el nombre de tu cocktail favorito.";else{j.classList.add("hidden");const s=a.filter(r=>r.strDrink.toLowerCase().includes(e.toLowerCase()));y(s),console.log(s),H()}},U=t=>{t.preventDefault(),i=[],localStorage.removeItem("favUserDrinks"),A.innerHTML="",i.length===0&&c.classList.add("hidden"),D.querySelectorAll(".js-drinks-list li").forEach(s=>{s.classList.remove("fav-drink")})};c.addEventListener("click",U);const T=()=>{const t=JSON.parse(localStorage.getItem("favUserDrinks"));t!==null&&(i=t,I()),fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(e=>e.json()).then(e=>{const s=e.drinks;console.log(s),y(s),a.push(...s)})},$=t=>{t.preventDefault(),S.value="",a=[],D.innerHTML="",T()};T();q.addEventListener("click",M);x.addEventListener("click",$);
//# sourceMappingURL=main.js.map
